@using GallerySystem.Service.Business.Data.Abstractions
@inject IUserService _userService
@{
    var user = await _userService.FindByClaimsAsync(User);
}
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required Meta Tags Always Come First -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Title -->
    <title>@ViewData["Title"] - Gallery</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="~/favicon.ico">

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&amp;display=swap" rel="stylesheet">

    <!-- CSS Implementing Plugins -->
    <link rel="stylesheet" href="~/assets/css/vendor.min.css">

    <!-- CSS Front Template -->

    <link rel="preload" href="~/assets/css/theme.min.css" data-hs-appearance="default" as="style">
    <link rel="preload" href="~/assets/css/theme-dark.min.css" data-hs-appearance="dark" as="style">

    <script>
      window.hs_config = {
        "autopath": "@@autopath",
        "deleteLine": "hs-builder:delete",
        "deleteLine:build": "hs-builder:build-delete",
        "deleteLine:dist": "hs-builder:dist-delete",
        "previewMode": false,
        "startPath": "/index.html",
        "vars": {
          "themeFont": "https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap",
          "version": "?v=1.0"
        },
        "layoutBuilder": {
          "extend": { "switcherSupport": true },
          "header": { "layoutMode": "default", "containerMode": "container-fluid" },
          "sidebarLayout": "default"
        },
        "themeAppearance": {
          "layoutSkin": "default",
          "sidebarSkin": "default",
          "styles": {
            "colors": {
              "primary": "#377dff",
              "transparent": "transparent",
              "white": "#fff",
              "dark": "132144",
              "gray": { "100": "#f9fafc", "900": "#1e2022" }
            }, "font": "Inter"
          }
        },
        "languageDirection": { "lang": "en" },
        "skipFilesFromBundle": {
          "dist": ["~/assets/js/hs.theme-appearance.js", "~/assets/js/hs.theme-appearance-charts.js", "~/assets/js/demo.js"],
          "build": ["~/assets/css/theme.css", "~/assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js", "~/assets/js/demo.js", "~/assets/css/theme-dark.html", "~/assets/css/docs.css", "~/assets/vendor/icon-set/style.html", "~/assets/js/hs.theme-appearance.js", "~/assets/js/hs.theme-appearance-charts.js", "node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.min.html", "~/assets/js/demo.js"]
        },
        "minifyCSSFiles": ["~/assets/css/theme.css", "~/assets/css/theme-dark.css"],
        "copyDependencies": {
          "dist": { "*~/assets/js/theme-custom.js": "" },
          "build": { "*~/assets/js/theme-custom.js": "", "node_modules/bootstrap-icons/font/*fonts/**": "~/assets/css" }
        },
        "buildFolder": "",
        "replacePathsToCDN": {},
        "directoryNames": { "src": "./src", "dist": "./dist", "build": "./build" },
        "fileNames": {
          "dist": { "js": "theme.min.js", "css": "theme.min.css" },
          "build": {
            "css": "theme.min.css",
            "js": "theme.min.js",
            "vendorCSS": "vendor.min.css",
            "vendorJS": "vendor.min.js"
          }
        },
        "fileTypes": "jpg|png|svg|mp4|webm|ogv|json"
      }
    </script>
</head>

<body class="has-navbar-vertical-aside navbar-vertical-aside-show-xl   footer-offset">

<script src="~/assets/js/hs.theme-appearance.js"></script>

<script src="~/assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js"></script>

<!-- ========== HEADER ========== -->

<header id="header"
        class="navbar navbar-expand-lg navbar-fixed navbar-height navbar-container navbar-bordered bg-white">
    <div class="navbar-nav-wrap">
        <!-- Logo -->
        <a class="navbar-brand" asp-action="Index" asp-controller="Album" aria-label="Front">
            <img class="navbar-brand-logo" src="~/assets/svg/logos/logo.svg" alt="Logo"
                 data-hs-theme-appearance="default">
            <img class="navbar-brand-logo" src="~/assets/svg/logos-light/logo.svg" alt="Logo"
                 data-hs-theme-appearance="dark">
        </a>
        <!-- End Logo -->

        <div class="navbar-nav-wrap-content-start">
            <!-- Navbar Vertical Toggle -->
            <button type="button" class="js-navbar-vertical-aside-toggle-invoker navbar-aside-toggler">
                <i class="bi-arrow-bar-left navbar-toggler-short-align"
                   data-bs-template='<div class="tooltip d-none d-md-block" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
                   data-bs-toggle="tooltip" data-bs-placement="right" title="Collapse">
                </i>
                <i class="bi-arrow-bar-right navbar-toggler-full-align"
                   data-bs-template='<div class="tooltip d-none d-md-block" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
                   data-bs-toggle="tooltip" data-bs-placement="right" title="Expand">
                </i>
            </button>

            <!-- End Navbar Vertical Toggle -->

            <!-- Nav -->
            <ul class="nav nav-sm">
                @* <li class="nav-item"> *@
                @*     <a class="nav-brand active" href="#">Gallery</a> *@
                @* </li> *@
            </ul>
            <!-- End Nav -->
        </div>

        <div class="navbar-nav-wrap-content-end">
            <!-- Navbar -->
            <ul class="navbar-nav">
                <li class="nav-item">
                    <!-- Account -->
                    <div class="dropdown">
                        <a class="navbar-dropdown-account-wrapper" href="javascript:;" id="accountNavbarDropdown"
                           data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside"
                           data-bs-dropdown-animation>
                            <div class="avatar avatar-sm avatar-circle">
                                <img class="avatar-img" src="~/uploads/user_images/@user.ImagePath" alt="Image Description">
                            </div>
                        </a>

                        <div class="dropdown-menu dropdown-menu-end navbar-dropdown-menu navbar-dropdown-menu-borderless navbar-dropdown-account"
                             aria-labelledby="accountNavbarDropdown" style="width: 16rem;">
                            <div class="dropdown-item-text">
                                <div class="d-flex align-items-center">
                                    <div class="avatar avatar-sm avatar-circle">
                                        <img class="avatar-img" src="~/uploads/user_images/@user.ImagePath"
                                             alt="Image Description">
                                    </div>
                                    <div class="flex-grow-1 ms-3">
                                        <h5 class="mb-0">@user.FullName</h5>
                                        <p class="card-text text-body">@user.Email</p>
                                    </div>
                                </div>
                            </div>

                            <div class="dropdown-divider"></div>

                            <a class="dropdown-item" asp-action="Index" asp-controller="Profile">Profile &amp; account</a>

                            <div class="dropdown-divider"></div>
                            <form asp-action="LogOut" asp-controller="Account" method="post">
                                <button type="submit" class="dropdown-item">Sign out</button>
                            </form>
                        </div>
                    </div>
                    <!-- End Account -->
                </li>
            </ul>
            <!-- End Navbar -->
        </div>
    </div>
</header>

<!-- ========== END HEADER ========== -->

<!-- ========== MAIN CONTENT ========== -->
<!-- Navbar Vertical -->
<main id="content" role="main" class="main">
    <div class="content container-fluid">
        @RenderBody()
    </div>
</main>

<!-- ========== END MAIN CONTENT ========== -->

<!-- JS Implementing Plugins -->
<script src="~/assets/js/vendor.min.js"></script>

<!-- JS Front -->
<script src="~/assets/js/theme.min.js"></script>

<!-- JS Plugins Init. -->
<script>
          (function () {
            window.onload = function () {
        
              // INITIALIZATION OF BOOTSTRAP DROPDOWN
              // =======================================================
              HSBsDropdown.init()
        
        
              // INITIALIZATION OF SELECT
              // =======================================================
              HSCore.components.HSTomSelect.init('.js-select')
        
        
              // INITIALIZATION OF INPUT MASK
              // =======================================================
              HSCore.components.HSMask.init('.js-input-mask')
        
    
        
              // SCROLLSPY
              // =======================================================
              new bootstrap.ScrollSpy(document.body, {
                target: '#navbarSettings',
                offset: 100
              })
            }
          })()
        </script>

<!-- Style Switcher JS -->

<script>
          (function () {
            // STYLE SWITCHER
            // =======================================================
            const $dropdownBtn = document.getElementById('selectThemeDropdown') // Dropdowon trigger
            const $variants = document.querySelectorAll(`[aria-labelledby="selectThemeDropdown"] [data-icon]`) // All items of the dropdown
        
            // Function to set active style in the dorpdown menu and set icon for dropdown trigger
            const setActiveStyle = function () {
              $variants.forEach($item => {
                if ($item.getAttribute('data-value') === HSThemeAppearance.getOriginalAppearance()) {
                  $dropdownBtn.innerHTML = `<i class="${$item.getAttribute('data-icon')}" />`
                  return $item.classList.add('active')
                }
        
                $item.classList.remove('active')
              })
            }
        
            // Add a click event to all items of the dropdown to set the style
            $variants.forEach(function ($item) {
              $item.addEventListener('click', function () {
                HSThemeAppearance.setAppearance($item.getAttribute('data-value'))
              })
            })
        
            // Call the setActiveStyle on load page
            setActiveStyle()
        
            // Add event listener on change style to call the setActiveStyle function
            window.addEventListener('on-hs-appearance-change', function () {
              setActiveStyle()
            })
          })()
        </script>

<!-- End Style Switcher JS -->
<script src="~/lib/jquery/dist/jquery.min.js"></script>
@await RenderSectionAsync("Scripts", required: false)
</body>

</html>